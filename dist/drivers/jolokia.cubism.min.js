"use strict";var JolokiaCubismDriver=function(a){function b(a){return"object"==typeof a&&"string"==typeof a.type}var c=function(a){this._cubismContext=function(){return a}};return c.prototype.metric=function(){var a=[],c=this._cubismContext(),d=Array.prototype.slice.call(arguments,0),e="function"==typeof d[0]?d.shift():function(a){return Number(a.value)},f=b(d[d.length-1])?{}:d.pop(),g="string"==typeof d[d.length-1]?d.pop():f.name,h=d,i=c.metric(function(b,d,e,f){b=+b,d=+d;var g=[],h=a.length,i=h?a[0].time:void 0,j=h?a[h-1].time:void 0,k=b;if(!h||i>d)for(;d>k;)g.push(0/0),k+=e;else{for(;i>k&&d>k;)g.push(0/0),k+=e;for(var l=0;a[l].time<b&&h>l;)l++;for(;d>k&&j>k;)g.push(a[l].value),k+=e,l++;for(;d>k;)g.push(0/0),k+=e;h>c.width&&a.splice(h-c.width,c.width)}f(null,g)},g);if(f.delta){var j=i.shift(-f.delta);i=i.subtract(j),g&&(i.toString=function(){return g})}return this.poller.register(h,{success:function(b){var c=b.filter(Jolokia.isError);a.push({time:Date.now(),value:c.length?0/0:e.apply(i,arguments)})}}),i},c.enhance=function(b,d){a.extend(b,new c(d))},c}(jQuery);window.JolokiaCubismDriver=JolokiaCubismDriver;